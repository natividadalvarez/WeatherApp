<section class="weather-data">
    @if (dataReady() == REQ_STATUS.REQ_SUCCESS) {
        <h1>{{currentWeather().name}}, {{currentWeather().sys.country}}</h1>
        <div class="data">
            <div class="stats">
                <h3>Feels like: {{currentWeather().main.feels_like.toFixed()}}&deg;F</h3>
                <h3>Humidity: {{currentWeather().main.humidity.toFixed()}}%</h3>
                <h3>Wind Speed: {{currentWeather().wind.speed}}mph</h3>
                <h3>Visibility: {{currentWeather().visibility.toFixed()}}m</h3>
            </div>
            <div class="current-weather">
                <h2>{{currentWeather().weather[0].main}}</h2>
                <img width=200 height=200 src="https://openweathermap.org/img/wn/{{currentWeather().weather[0].icon}}@4x.png"/>
                <h2>{{currentWeather().main.temp.toFixed()}}&deg;F</h2>
            </div>
            <div class="hourly-forecast">
                <h2>Your Hourly Forecast</h2>
                <div class="hourly-data">
                    @if(dataReady()) {
                        @for (hour of hourlyWeather().list; track hour.dt) {
                            <div class="hour-data">
                                <span>{{hour.dt * 1000| date:"MMM d @ha"}}</span>
                                <span>{{hour.main.temp.toFixed() }}&deg;F {{hour.weather[0].main}}</span>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    } @else if(dataReady() == REQ_STATUS.REQ_PENDING) {
       <p class="status-text">Loading...</p> 
    } @else {
       <p class="status-text error">Could not load weather data at this time. Please try again later.</p> 
    }
</section>
